<Project>
  <PropertyGroup>
    <AssemblyCompany>Microsoft</AssemblyCompany>
    <AssemblyCopyright>© Microsoft Corporation. All rights reserved.</AssemblyCopyright>
    <Company>Microsoft</Company>
    <Product>Microsoft Sql Tools</Product>
    <Authors>Microsoft</Authors>
    <Copyright>© Microsoft Corporation. All rights reserved.</Copyright>
    <HighEntropyVA>true</HighEntropyVA>
    <TargetLatestRuntimePatch>true</TargetLatestRuntimePatch>
    <RootDir>$(MSBuildThisFileDirectory)</RootDir>

    <!-- Defaults-->
    <!-- The revision version is currently generated by the release stage, which runs after build. So until
         that can be refactored just set to 0/99 here since it doesn't need to exactly match the release version
         (especially with the commit hash being embedded in)
    -->
    <Revision Condition="$(Patch) != ''">0</Revision>
    <Revision Condition="$(Patch) == ''">99</Revision>
    <Major Condition="$(Major) == ''">99</Major>
    <Minor Condition="$(Minor) == ''">99</Minor>
    <Patch Condition="$(Patch) == ''">99</Patch>

    <!-- AssemblyVersion should not change for non-major releases. -->
    <AssemblyVersion>$(Major).0.0.0</AssemblyVersion>
    <Version>$(Major).$(Minor).$(Patch).$(Revision)</Version>
    <FileVersion>$(Version)</FileVersion>
    <InformationalVersion>$(Version)</InformationalVersion>

    <ToolsServiceTargetRuntimes>win-x64;win-x86;win-arm64;osx-x64;osx-arm64;linux-x64;linux-arm64</ToolsServiceTargetRuntimes>
    <EnforceCodeStyleInBuild>true</EnforceCodeStyleInBuild>
    <EnableNETAnalyzers>true</EnableNETAnalyzers>
    <!-- This is required for IDE0005 to fail the build https://github.com/dotnet/roslyn/issues/41640 -->
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <Nullable>enable</Nullable>
  </PropertyGroup>

  <!-- For official builds we want to set this so that "official build" settings such as normalized source
    paths are applied. https://learn.microsoft.com/en-us/dotnet/core/project-sdk/msbuild-props#continuousintegrationbuild
  -->
  <PropertyGroup Condition="'$(TF_BUILD)' == 'true' Or '$(GITHUB_ACTIONS)' == 'true'">
    <ContinuousIntegrationBuild>true</ContinuousIntegrationBuild>
  </PropertyGroup>
</Project>
